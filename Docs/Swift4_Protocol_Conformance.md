# Protocol Conformance Map

This document lists protocol conformance properites and methods that are required in
order to have a fully (mostly?) stdlib compatible UnsignedInteger type for Swift version
3.2/4.0.

## Needs to be Implemented

This section summarizes those properties and methods that are not automatically
generated by the protocols requiring them, or by other protocols in the protocol
inheritance chain.

### FixedWidthInteger

* `var nonzeroBitCount: Int { get }`
* `var leadingZeroBitCount: Int { get }`
* `var bigEndian: Self { get }`
* `var littleEndian: Self { get }`
* `var byteSwapped: Self { get }`

* `init(_truncatingBits bits: UInt)`
* `init(bigEndian value: Self)`
* `init(littleEndian value: Self)`

* `func addingReportingOverflow(_ rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
* `func subtractingReportingOverflow(_ rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
* `func multipliedReportingOverflow(by rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
* `func multipliedFullWidth(by other: Self) -> (high: Self, low: Self.Magnitude)`
* `func dividedReportingOverflow(by rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
* `func dividingFullWidth(_ dividend: (high: Self, low: Self.Magnitude)) -> (quotient: Self, remainder: Self)`
* `func remainderReportingOverflow(dividingBy rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`

### BinaryInteger

* `var bitWidth : Int { get }`
* `var trailingZeroBitCount: Int { get }`

* `init?<T : FloatingPoint>(exactly source: T)`
* `init<T : FloatingPoint>(_ source: T)`

* `func _word(at n: Int) -> UInt`

* `static func /(_ lhs: Self, _ rhs: Self) -> Self`
* `static func /=(_ lhs: inout Self, _ rhs: Self)`
* `static func %(_ lhs: Self, _ rhs: Self) -> Self`
* `static func %=(_ lhs: inout Self, _ rhs: Self)`
* `static func &=(_ lhs: inout Self, _ rhs: Self)`
* `static func |=(_ lhs: inout Self, _ rhs: Self)`
* `static func ^=(_ lhs: inout Self, _ rhs: Self)`
* `static func &>>=(_ lhs: inout Self, _ rhs: Self)`
* `static func &<<=(_ lhs: inout Self, _ rhs: Self)`

### Hashable

* `var hashValue: Int { get }`

### Numeric

* `static func +(_ lhs: Self, _ rhs: Self) -> Self`
* `static func +=(_ lhs: inout Self, rhs: Self)`
* `static func -(_ lhs: Self, _ rhs: Self) -> Self`
* `static func -=(_ lhs: inout Self, rhs: Self)`
* `static func *(_ lhs: Self, _ rhs: Self) -> Self`
* `static func *=(_ lhs: inout Self, rhs: Self)`

### Equatable

* `static func == (lhs: Self, rhs: Self) -> Bool`

### ExpressibleByIntegerLiteral

* `init (integerLiteral value: IntegerLiteralType)`

### CustomStringConvertible

* `var description: String { get }`

### Comparable

* `static func < (lhs: Self, rhs: Self) -> Bool`

### _ExpressibleByBuiltinIntegerLiteral

* `init (_builtinIntegerLiteral value: _MaxBuiltinIntegerType)`


## Protocol Details

This lists out details gathered when investigating the stdlib for protocols that an
`UnsignedInteger` type should support. This lists each protocol, documents inherited
protocols, properties/methods that need to be implemented, and ones that are
automatically included.

### FixedWidthInteger

Conforms to: `BinaryInteger` and `_BitwiseOperations`.

Needs to be implemented:
`func addingReportingOverflow(_ rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
`func subtractingReportingOverflow(_ rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
`func multipliedReportingOverflow(by rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
`func dividedReportingOverflow(by rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
`func remainderReportingOverflow(dividingBy rhs: Self) -> (partialValue: Self, overflow: ArithmeticOverflow)`
`func multipliedFullWidth(by other: Self) -> (high: Self, low: Self.Magnitude)`
`func dividingFullWidth(_ dividend: (high: Self, low: Self.Magnitude)) -> (quotient: Self, remainder: Self)`
`init(_truncatingBits bits: UInt)`
`var nonzeroBitCount: Int { get }`
`var leadingZeroBitCount: Int { get }`
`init(bigEndian value: Self)`
`init(littleEndian value: Self)`
`var bigEndian: Self { get }`
`var littleEndian: Self { get }`
`var byteSwapped: Self { get }`

Automatically implemented:
`static var max: Self { get }` by `UnsignedInteger` protocol.
`static var min: Self { get }` by `UnsignedInteger` protocol.

Default implementations:
`static var allZeros: Self { return 0 }` for `_BitwiseOperations` protocol.
`var bitWidth: Int { return Self.bitWidth }` for `BinaryInteger` protocol.

`static prefix func ~ (x: Self) -> Self` for `_BitwiseOperations` protocol.
    Relies on `&- (lhs:Self, rhs: Self)` operator.
    
`static func >> <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Self`
    Relies on `.bitWidth`, `.isSigned` property, `&>>` operator,
    `init(extendingOrTruncating:)` initializer.
    
`static func >>= <Other : BinaryInteger>(lhs: inout Self, rhs: Other)`
    Relies on `.bitWidth`, `.isSigned` property, `&>>` operator,
    `init(extendingOrTruncating:)` initializer.
    
`static func << <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Self`
    Relies on `.bitWidth`, `.isSigned` property, `&>>` operator,
    `init(extendingOrTruncating:)` initializer.
    
`static func <<= <Other : BinaryInteger>(lhs: inout Self, rhs: Other)`
    Relies on `.bitWidth`, `.isSigned` property, `&>>` operator,
    `init(extendingOrTruncating:)` initializer.
    
`init<Other: BinaryInteger>(clamping source: Other)`
    Relies on `.min` and `.max` property,  `init(extendingOrTruncating:)` initializer.
    
`func unsafeAdding(_ other: Self) -> Self`
    Relies on `addingReportingOverflow` method.
    
`func unsafeSubtracting(_ other: Self) -> Self`
    Relies on `subtractingReportingOverflow` method.
    
`func unsafeMultiplied(by other: Self) -> Self`
    Relies on `multipliedReportingOverflow` method.
    
`func unsafeDivided(by other: Self) -> Self`
    Relies on `dividedReportingOverflow` method.
    
`init<T : BinaryInteger>(extendingOrTruncating source: T)`
    Relies on `.bitWidth` property, `init(_truncatingBits:)` initializer.
    
`static var _highBitIndex: Self`
    Relies on `.bitWidth` property, `init(_truncatingBits:)` initializer.
    
`static func &+ (lhs: Self, rhs: Self) -> Self`
    Relies on `addingReportingOverflow` method.
    
`static func &- (lhs: Self, rhs: Self) -> Self`
    Relies on `subtractingReportingOverflow` method.
    
`static func &* (lhs: Self, rhs: Self) -> Self`
    Relies on `multipliedReportingOverflow` method.
    
#### _BitwiseOperations

Automatically implemented:
`static func & (lhs: Self, rhs: Self) -> Self` by `BinaryInteger` protocol.
`static func | (lhs: Self, rhs: Self) -> Self` by `BinaryInteger` protocol.
`static func ^ (lhs: Self, rhs: Self) -> Self` by `BinaryInteger` protocol.
`static prefix func ~ (x: Self) -> Self` by `FixedWidthInteger` protocol.

```swift
@available(swift, deprecated: 3.1, obsoleted: 4.0)
static var allZeros: Self { get }
```
by `FixedWidthInteger` protocol.

#### BinaryInteger

Conforms to: `Hashable`, `Numeric`, `CustomStringConvertible` and `Strideable`.

Needs to be implemented:
`init?<T : FloatingPoint>(exactly source: T)`
`init<T : FloatingPoint>(_ source: T)`
`func _word(at n: Int) -> UInt`
`var bitWidth : Int { get }`
`var trailingZeroBitCount: Int { get }`
`static func /(_ lhs: Self, _ rhs: Self) -> Self`
`static func /=(_ lhs: inout Self, _ rhs: Self)`
`static func %(_ lhs: Self, _ rhs: Self) -> Self`
`static func %=(_ lhs: inout Self, _ rhs: Self)`
`static func &=(_ lhs: inout Self, _ rhs: Self)`
`static func |=(_ lhs: inout Self, _ rhs: Self)`
`static func ^=(_ lhs: inout Self, _ rhs: Self)`
`static func &>>=(_ lhs: inout Self, _ rhs: Self)`
`static func &<<=(_ lhs: inout Self, _ rhs: Self)`

Automatically implemented:
`static var isSigned: Bool { get }` by `UnsignedInteger` protocol.
`init<T : BinaryInteger>(_ source: T)` by `UnsignedInteger` and `BinaryInteger` protocols.
`init<T : BinaryInteger>(extendingOrTruncating source: T)` by `FixedWidthInteger` protocol.
`init<T : BinaryInteger>(clamping source: T)` by `FixedWidthInteger` protocol.
`var words: Words { get }` - has default implementation.
`static prefix func ~ (_ x: Self) -> Self` by `FixedWidthInteger` protocol.
`static func &(_ lhs: Self, _ rhs: Self) -> Self` - has default implementation.
`static func |(_ lhs: Self, _ rhs: Self) -> Self` - has default implementation.
`static func ^(_ lhs: Self, _ rhs: Self) -> Self` - has default implementation.
`static func &>>(_ lhs: Self, _ rhs: Self) -> Self` - has default implementation.
`static func &<<(_ lhs: Self, _ rhs: Self) -> Self` - has default implementation.
`func quotientAndRemainder(dividingBy rhs: Self) -> (quotient: Self, remainder: Self)` - has default implementation.
`func signum() -> Self` - has default implementation.

Duplicate from another protocol:
`static func +(_ lhs: Self, _ rhs: Self) -> Self` - duplicate from `Numeric` protocol.
`static func +=(_ lhs: inout Self, _ rhs: Self)` - duplicate from `Numeric` protocol.
`static func -(_ lhs: Self, _ rhs: Self) -> Self` - duplicate from `Numeric` protocol.
`static func -=(_ lhs: inout Self, _ rhs: Self)` - duplicate from `Numeric` protocol.
`static func *(_ lhs: Self, _ rhs: Self) -> Self` - duplicate from `Numeric` protocol.
`static func *=(_ lhs: inout Self, _ rhs: Self)` - duplicate from `Numeric` protocol.

Default Implementations:
`public init()`

`var countRepresentedWords: Int`
    Relies on `.bitWidth` property.
    
`var words: [UInt]`
    Relies on `.countRepresentedWords` property and `_word(at:)` method.
    
`func signum() -> Self`
    Relies on `< (lhs: Self, rhs: Self)` and `> (lhs: Self, rhs: Self)` operators.
    
`func quotientAndRemainder(dividingBy rhs: Self) -> (quotient: Self, remainder: Self)`
    Relies on `/` and `%` operators.
    
`func distance(to other: Self) -> Int` for `Strideable` protocol.
    Relies on `-` operator.
    
`func advanced(by n: Int) -> Self` for `Strideable` protocol.
    Relies on `+=` operator and `init(exactly:)` initializer.
    
`static func & (lhs: Self, rhs: Self) -> Self`
    Relies on `&=` operator.
    
`static func | (lhs: Self, rhs: Self) -> Self`
    Relies on `+=` operator.
    
`static func ^ (lhs: Self, rhs: Self) -> Self`
    Relies on `^=` operator.
    
`static func &>> (lhs: Self, rhs: Self) -> Self`
    Relies on `&>>=` operator.
    
`static func &<< (lhs: Self, rhs: Self) -> Self`
    Relies on `&<<=` operator.
    
`static func != (lhs: Self, rhs: Self) -> Bool`
    Relies on `== (lhs: Self, rhs: Self)` operator.

`static func <= (lhs: Self, rhs: Self) -> Bool` for `Comparable` protocol.
    Relies on `< (lhs: Self, rhs: Self)` operator.

`static func >= (lhs: Self, rhs: Self) -> Bool` for `Comparable` protocol.
    Relies on `< (lhs: Self, rhs: Self)` operator.

`static func > (lhs: Self, rhs: Self) -> Bool` for `Comparable` protocol.
    Relies on `< (lhs: Self, rhs: Self)` operator.
    
`static func &>> <Other : BinaryInteger> (lhs: Self, rhs: Other) -> Self`
    Relies on `&>>` operator and `init(extendingOrTruncating:)` initializer.
    
`static func &>>= <Other : BinaryInteger> (lhs: inout Self, rhs: Other)`
    Relies on `&>>` operator.
    
`static func &<< <Other : BinaryInteger> (lhs: Self, rhs: Other) -> Self`
    Relies on `&<<` operator and `init(extendingOrTruncating:)` initializer.
    
`static func &<<= <Other : BinaryInteger> (lhs: inout Self, rhs: Other)`
    Relies on `&<<` operator.
    
`static func == <Other : BinaryInteger> (lhs: Self, rhs: Other) -> Bool` for `Equatable` protocol.
    Relies on `.isSigned` and `.bitWidth` properties, `<` and `!=` operators, `init(extendingOrTruncating: Other)` initializer and `func == (lhs: Self, rhs: Self)` method.
    
`static func != <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Bool`

`static func < <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Bool`
    Relies on `.isSigned` property, `<` and `==` operators, `init(extendingOrTruncating: Other)` initializer.
    
`static func <= <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Bool`
    Relies on `<` operator.
    
`static func >= <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Bool`
    Relies on `<` operator.
    
`static func > <Other : BinaryInteger>(lhs: Self, rhs: Other) -> Bool`
    Relies on `<` operator.
    
##### Hashable

Conforms to: `Equatable`.

Needs to be implemented:
`var hashValue: Int { get }`

##### Numeric

Conforms to: `Equatable` and `ExpressibleByIntegerLiteral`.

Needs to be implemented:
`static func +(_ lhs: Self, _ rhs: Self) -> Self`
`static func +=(_ lhs: inout Self, rhs: Self)`
`static func -(_ lhs: Self, _ rhs: Self) -> Self`
`static func -=(_ lhs: inout Self, rhs: Self)`
`static func *(_ lhs: Self, _ rhs: Self) -> Self`
`static func *=(_ lhs: inout Self, rhs: Self)`

Automatically implemented:
`init?<T : BinaryInteger>(exactly source: T)` by `UnsignedInteger` protocol.
`var magnitude: Magnitude { get }` by `UnsignedInteger` protocol.


###### Equatable

Needs to be implemented:
`static func == (lhs: Self, rhs: Self) -> Bool`

Automatically implemented:
`static func != (lhs: Self, rhs: Self) -> Bool`

###### ExpressibleByIntegerLiteral

Needs to be implemented:
`init (integerLiteral value: IntegerLiteralType)`

##### CustomStringConvertible

Needs to be implemented:
`var description: String { get }`

##### Strideable

Conforms to: `Comparable`

Should be automatically implemented:
`func distance (to other: Self) -> Stride`
`func advanced (by n: Stride) -> Self`

Has default implementations of `Comparable`'s `<` operator and `Equatable`'s
`==` operator based on the `distance(to:)` method.

###### Comparable

Conforms to: `Equatable`

Needs to be implemented:

`static func < (lhs: Self, rhs: Self) -> Bool`

The below all have default implementations that derive from the above:

`static func <= (lhs: Self, rhs: Self) -> Bool`
`static func > (lhs: Self, rhs: Self) -> Bool`
`static func >= (lhs: Self, rhs: Self) -> Bool`

### UnsignedInteger

Default implementations:

`var magnitude: Self { return self }` for `Numeric` protocol.

`static var isSigned: Bool { return false }` for `BinaryInteger` protocol.

`var description: String` - doesn't work for anything larger than `UInt64`.

`init<T : BinaryInteger>(_ source: T)`
    Relies on `.bitWidth` and `.max` property, `init(extendingOrTruncating:)` initializer.
    
`init?<T : BinaryInteger>(exactly source: T)`
    Relies on `.bitWidth` and `.max` property, `init(extendingOrTruncating:)` initializer.
    
`static var max: Self`
    Relies on `~ (lhs: Self, rhs: Self) -> Self` operator.
    
`static var min: Self`

### _ExpressibleByBuiltinIntegerLiteral

Needs to be implemented:
`init (_builtinIntegerLiteral value: _MaxBuiltinIntegerType)`

Not inside this protocol, but rather in Policy.swift:

    public typealias _MaxBuiltinIntegerType = Builtin.Int2048
